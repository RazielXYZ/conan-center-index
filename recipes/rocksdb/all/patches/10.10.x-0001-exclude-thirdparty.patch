--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -107,14 +107,9 @@
 include(CMakeDependentOption)
 
 if(MSVC)
-  option(WITH_GFLAGS "build with GFlags" OFF)
   option(WITH_XPRESS "build with windows built in compression" OFF)
-  option(ROCKSDB_SKIP_THIRDPARTY "skip thirdparty.inc" OFF)
-
-  if(NOT ROCKSDB_SKIP_THIRDPARTY)
-    include(${CMAKE_CURRENT_SOURCE_DIR}/thirdparty.inc)
-  endif()
-else()
+endif()
+if(TRUE)
   if(CMAKE_SYSTEM_NAME MATCHES "FreeBSD" AND NOT CMAKE_SYSTEM_NAME MATCHES "kFreeBSD")
     # FreeBSD has jemalloc as default malloc
     # but it does not have all the jemalloc files in include/...
@@ -127,7 +122,7 @@
     endif()
   endif()
 
-  if(MINGW)
+  if(MSVC OR MINGW)
     option(WITH_GFLAGS "build with GFlags" OFF)
   else()
     option(WITH_GFLAGS "build with GFlags" ON)
